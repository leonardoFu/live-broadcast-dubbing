# Media Service E2E Environment Variables
# Referenced by: conftest.py media_compose_env fixture
# Usage: docker compose --env-file tests/e2e/.env.media

# MediaMTX Ports
MEDIAMTX_RTSP_PORT=8554
MEDIAMTX_RTMP_PORT=1935
MEDIAMTX_API_PORT=8889
MEDIAMTX_METRICS_PORT=9998
MEDIAMTX_PLAYBACK_PORT=9996

# MediaMTX Container Config
MEDIAMTX_CONTAINER_NAME=e2e-mediamtx
MEDIAMTX_LOG_LEVEL=info
MEDIAMTX_PROTOCOLS=tcp

# Media Service Config
MEDIA_SERVICE_PORT=8080
MEDIA_SERVICE_CONTAINER_NAME=e2e-media-service
MEDIA_SERVICE_IMAGE=media-service:e2e

# STS Service URL (use container name for E2E shared network)
STS_SERVICE_URL=http://e2e-echo-sts:3000

# Orchestrator URL (for MediaMTX hooks)
ORCHESTRATOR_URL=http://media-service:8080

# Logging
LOG_LEVEL=INFO

# GStreamer Debug (for audio pipeline investigation)
GST_DEBUG=flvdemux:5,queue:6,appsink:6

# Volumes
SEGMENTS_VOLUME_NAME=e2e-media-segments

# Circuit Breaker
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60

# Segment Config
SEGMENT_DIR=/tmp/segments
MAX_CONCURRENT_STREAMS=10
METRICS_ENABLED=true

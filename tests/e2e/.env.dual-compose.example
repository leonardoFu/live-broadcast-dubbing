# Dual Docker-Compose E2E Test Environment Variables
# Copy to .env.dual-compose and customize as needed

# ============================================================================
# Media Service Docker Compose Configuration
# ============================================================================

# MediaMTX Ports
MEDIAMTX_RTSP_PORT=8554
MEDIAMTX_RTMP_PORT=1935
MEDIAMTX_API_PORT=9997

# Media Service Configuration
MEDIA_SERVICE_PORT=8080
LOG_LEVEL=DEBUG

# STS Service URL (from media-service perspective)
# Use host.docker.internal to reach STS service running on host
STS_SERVICE_URL=http://host.docker.internal:3000

# Segment Storage
SEGMENT_DIR=/tmp/segments

# ============================================================================
# STS Service Docker Compose Configuration
# ============================================================================

# STS Service Port
STS_PORT=3000
HOST=0.0.0.0

# ASR Configuration
ASR_MODEL=whisper-small  # Balance accuracy and speed for E2E tests

# Translation Configuration
TRANSLATION_PROVIDER=google

# TTS Configuration
TTS_PROVIDER=coqui
TTS_MODEL=tts_models/en/ljspeech/tacotron2-DDC

# Processing Configuration
DEVICE=cpu  # Use CPU for E2E tests (no GPU required)
MAX_INFLIGHT=3
PROCESSING_TIMEOUT=30

# ============================================================================
# Test Configuration
# ============================================================================

# Health Check Timeout
HEALTH_CHECK_TIMEOUT=30
MAX_RETRIES=10

# Test Fixture Configuration
TEST_FIXTURE_PATH=tests/e2e/fixtures/test-streams/30s-counting-english.mp4

# E2E Test Timeout
E2E_TEST_TIMEOUT=180  # Allow real STS latency (30s fixture + processing)
